<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Restaurant Africain</title>
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="css/burger.css" />
  </head>
  <body>
    <header>
      <div>
        <img class="logo" src="images/newlogo.png" alt="Logo Taste Africa" />
      </div>
      <!-- Bouton burger -->
      <div id="burgernav">
        <div class="burger" id="burger">â˜°</div>

        <nav class="nav" id="nav">
          <a href="./index.html">Accueil</a>
          <a href="./liste.html">Menu</a>
          <a href="./detail.html">Ã€ propos</a>
          <a href="./contact.html">Contact</a>
        </nav>
      </div>

      <div class="r-social">
        <img src="images/instagram-brands-solid-full.jpg" alt="insta" />
        <img src="images/facebook-brands-solid-full-_2_.jpg" alt="fb" />
        <img src="images/tiktok-brands-solid-full.jpg" alt="tiktok" />
      </div>

      <!-- <nav>
        <ul>
          <li><a href="index.html">Accueil</a></li>
          <li><a href="menu.html">Menu</a></li>
          <li><a href="contact.html">Contact</a></li>
          <li><a href="">A propos</a></li>
        </ul>
      </nav> -->
    </header>
    <main>
      <h1>La Carte</h1>
      <div id = "Searchbar">
      <input type="text" id="searchInput" placeholder="Rechercher..." />

      <select id="categorySelect">
        <option value="all">Toutes les catÃ©gories</option>
        <option value="plat">Plats</option>
        <option value="boisson">Boissons</option>
        <option value="dessert">Desserts</option>
      </select>
      </div>

      <div id="resultats"></div>

      <!-- <section class="sort">
        <select id="sortSelect">
          <option value="">Trier par</option>
          <option value="asc">Prix : du moins cher au plus cher</option>
          <option value="desc">Prix : du plus cher au moins cher</option>
        </select>
      </section> -->

      <!-- <section id="panier">
        <h2>ðŸ›’ Mon panier</h2>
        <ul id="panierListe"></ul>
        <p id="total">Total : 0 â‚¬</p>
      </section> -->

      <div id="menus"></div>
      <!-- affciher liste des plats -->
    </main>

    <footer>
      <p>&copy; 2024 Taste Africa. Tous droits rÃ©servÃ©s.</p>
      <div class="reseau social">
        <img src="images/instagram-brands-solid-full.jpg" alt="insta" />
        <img src="images/facebook-brands-solid-full-_2_.jpg" alt="fb" />
        <img src="images/tiktok-brands-solid-full.jpg" alt="tiktok" />
      </div>

      <div class="footer">
        <p>
          <img
            src="images/location-dot-solid-full-_1_.jpg"
            alt="logosite"
          />Tast Africa
          <br />
          Contactez-nous <br />
          Email:tastafrica13@gmail.com <br />
          TÃ©lÃ©phone: +33 6 12 34 56 78
        </p>
      </div>

      <div class="logofoot">
        <img src="images/newlogo.png" alt="Logo Taste Africa" />
      </div>

      <!-- <div class="sv">
        UNE RÃ‰CLAMATION ? ECRIVEZ-NOUS Ã€ : QUALITE@TASTEAFRICA.FR
        <br /><br />UNE COLLABORATION OU UNE DEMANDE Dâ€™INFORMATION ? <br />
        <br />
        CONTACTEZ-NOUS Ã€ : COMMUNICATION@TASTEAFRICAGROUP.FR <br />
        <br />ENVIE DE REJOINDRE NOTRE EQUIPE ?<br />
        <br />
        ENVOYEZ UN MESSAGE Ã€ : <br />
        <br />
        RECRUTEMENT@TASTEAFRICAGROUP.FR <br />
        UNE AUTRE DEMANDE ? Ã‰CRIVEZ-NOUS Ã€ : <br />
        <br />
        ADMINISTRATION@TASTEAFRICAGROUP.FR
      </div> -->
    </footer>

    <script src="js/index.js"></script>
    <script src="js/burger.js"></script>
    <script src="js/filter.js"></script>
    <script>
      const searchPlat = document.getElementById("searchInput");
      const categorySelect = document.getElementById("categorySelect");
      const resultats = document.getElementById("resultats");
      // const url = window.location.origin + "/js/data/menu.json";

      // fetch(url)
      //   .then((response) => response.json())

      //   .then((data) => {
      //     console.log(data);
      //     menuData = [data.plats, data.boissons, data.desserts];
      //     console.log(menuData);
      //   });

      // searchPlat.addEventListener("input", lancerRecherche);
      // categorySelect.addEventListener("change", function () {
      //   menus.innerHTML = "";
      //   fetch(url)
      //     .then((response) => response.json())

      //     .then((data) => {
      //       const categorieChoisie = categorySelect.value;
      //       console.log(data);
      //       const dataFiltered = data.filter(
      //         (item) => item.categorie == categorieChoisie
      //       );
      //       console.log(dataFiltered);
      //       for (let index = 0; index < dataFiltered.length; index++) {
      //         // console.log(index);

      //         const article = document.createElement("article");
      //         article.classList = "menu";
      //         article.style.backgroundColor = "#BF7E04";
      //         article.innerHTML = `
      //       <img src="${dataFiltered[index].image}" alt="${dataFiltered[index].name}" >
      //       <h2>${dataFiltered[index].name}</h2>
      //       <p>Prix: ${dataFiltered[index].price} â‚¬</p>
      //       <p>Categorie: ${dataFiltered[index].categorie}</p>
      //       <p>description: ${dataFiltered[index].desc}</p>

      //       <p> <a href="detail.html?id=${dataFiltered[index].id}">En savoir plus</a> </p>

      //       `;
      //         menus.appendChild(article);
      //       }
      //     });
      // });
      // filtres toute categories
      let allmenus = [];
      fetch(url)
        .then((res) => res.json())
        .then((data) => {
          allmenus = data;
          dataFiltered = allmenus;
          console.log(data);
        });

      categorySelect.addEventListener("change", function () {
        menus.innerHTML = "";
        const categorieChoisie = categorySelect.value;
        let dataFiltered;
        if (categorieChoisie === "all") {
          dataFiltered = allmenus;
        } else {
          dataFiltered = allmenus.filter(
            (item) => item.categorie === categorieChoisie
          );
        }

        console.log(dataFiltered);
        for (let index = 0; index < dataFiltered.length; index++) {
          console.log(index);

          const article = document.createElement("article");
          article.classList = "menu";
          article.style.backgroundColor = "#BF7E04";
          article.innerHTML = `
            <img src="${dataFiltered[index].image}" alt="${dataFiltered[index].name}" >
            <h2>${dataFiltered[index].name}</h2>
            <p>Prix: ${dataFiltered[index].price} â‚¬</p>
            <p>Categorie: ${dataFiltered[index].categorie}</p>
            <p>description: ${dataFiltered[index].desc}</p>

            <p> <a href="detail.html?id=${dataFiltered[index].id}">En savoir plus</a> </p>

            `;
          menus.appendChild(article);
        }
      });
      // Fonctionnalite fil par barre de recherche
      // fetch(url)
      //   .then((response) => response.json())
      //   .then((data) => {
      //     menusData = data;
      //     donneesFiltrees = menusData;
      //     afficherMenus(donneesFiltrees);
      //   });

      // searchInput.addEventListener("input", appliquerFiltres);
      // categorySelect.addEventListener("change", appliquerFiltres);

      // function appliquerFiltres() {
      //   const texteRecherche = searchInput.value.toLowerCase();
      //   const categorieChoisie = categorySelect.value;

      //   donneesFiltrees = menusData.filter((item) => {
      //     const correspondTexte = item.name
      //       .toLowerCase()
      //       .includes(texteRecherche);

      //     const correspondCategorie =
      //       categorieChoisie === "all" || item.categorie === categorieChoisie;

      //     return correspondTexte && correspondCategorie;
      //   });

      //   afficherMenus(donneesFiltrees);
      // }
      // function afficherMenus(liste) {
      //   menus.innerHTML = "";

      //   if (liste.length === 0) {
      //     menus.innerHTML = "<p>Aucun rÃ©sultat</p>";
      //     return;
      //   }

      //     liste.forEach((item) => {
      //       const article = document.createElement("article");
      //       article.classList.add("menu");

      //       article.innerHTML = `
      //   <img src="${item.image}" alt="${item.name}">
      //   <h2>${item.name}</h2>
      //   <p>Prix: ${item.price} â‚¬</p>
      //   <p>Categorie: ${item.categorie}</p>
      //   <p>${item.desc}</p>
      //   <p>
      //     <a href="detail.html?id=${item.id}">En savoir plus</a>
      //   </p>
      // `;

      //       menus.appendChild(article);
      //     });
      //   }

      // function lancerRecherche() {
      //   const texteRecherche = searchPlat.value.toLowerCase();
      //   const categorieChoisie = categorySelect.value;

      //   menus.innerHTML = "";

      //   const filtres = menuData.filter((item) => {
      //     const correspondTexte = item.name
      //       .toLowerCase()
      //       .includes(texteRecherche);

      //     const correspondCategorie =
      //       categorieChoisie === "all" || item.categorie === categorieChoisie;

      //     return correspondTexte && correspondCategorie;
      //   });

      //   console.log(filtres);
      // }
    </script>
  </body>
</html>
