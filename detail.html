<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="css/burger.css" />
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <body>
    <header>
      <div>
        <img class="logo" src="images/newlogo.png" alt="Logo Taste Africa" />
      </div>
      <!-- Bouton burger -->
      <div id="burgernav">
        <div class="burger" id="burger">☰ Menu</div>

        <nav class="nav" id="nav">
          <a href="./index.html">Accueil</a>
          <a href="./liste.html">Menu</a>
          <a href="./detail.html">À propos</a>
          <a href="./contact.html">Contact</a>
        </nav>
      </div>

      <div class="r-social">
        <img src="images/instagram-brands-solid-full.jpg" alt="insta" />
        <img src="images/facebook-brands-solid-full-_2_.jpg" alt="fb" />
        <img src="images/tiktok-brands-solid-full.jpg" alt="tiktok" />
      </div>
    </header>

    <main>
      <article id="menu-detail">
        <!-- Les détails du menu seront affichés ici -->
      </article>
    </main>

    <footer>
      <p>&copy; 2024 Taste Africa. Tous droits réservés.</p>
      <div class="reseau social">
        <img src="images/instagram-brands-solid-full.jpg" alt="insta" />
        <img src="images/facebook-brands-solid-full-_2_.jpg" alt="fb" />
        <img src="images/tiktok-brands-solid-full.jpg" alt="tiktok" />
      </div>

      <div class="footer">
        <p>
          <img src="images/location-dot-solid-full-_1_.jpg" alt="" />Tast Africa
          <br />
          Contactez-nous <br />
          Email:tastafrica13@gmail.com <br />
          Téléphone: +33 6 12 34 56 78
        </p>
      </div>
      <div class="logofoot">
        <img src="images/newlogo.png" alt="Logo Taste Africa" />
      </div>
    </footer>
    <script src="js/burger.js"></script>
    <!-- <script src="js/index.js"></script> -->
    <script>
      // Récupérer l'ID du menu depuis l'URL
      const urlParams = new URLSearchParams(window.location.search);
      const menuId = urlParams.get("id");
      console.log("Menu ID:", menuId);

      const url = window.location.origin + "/js/data/menu.json";

      let menuDetail = document.getElementById("menu-detail");
      fetch(url)
        .then((reponse) => reponse.json())
        .then((data) => {
          console.log(data);

          // Trouver l'élément du menu par ID
          const menu = data.find((item) => item.id == menuId);
          if (!menu) {
            menuDetail.innerHTML = "<p>Menu non trouvé.</p>";
            return;
          }

          const article = document.createElement("article");
          article.classList = "detail";

          article.innerHTML = `
            <img src="${menu.image}" alt="${menu.name}">
            <h2>${menu.name}</h2>
            <p>Prix: ${menu.price} €</p>
            <p>Catégorie: ${menu.categorie}</p>
            <P>desc: ${menu.desc}</p>
          `;

          menuDetail.appendChild(article);
        });
    </script>
  </body>
</html>
